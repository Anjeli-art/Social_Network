{"version":3,"sources":["assets/images/Spin-1s-200px.svg","common/preloader/Preloader.tsx","components/login/login.module.css","common/paginator/Paginator.module.css","components/Users/Users.module.css","components/Header/Header.module.css","redux/profile-reducer.tsx","redux/dialogs-reducer.tsx","components/Nav/Nav.module.css","api/api.ts","components/Nav/Nav.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","utils/object-helpers.tsx","redux/users-reducer.tsx","common/paginator/Paginator.tsx","components/Users/User.tsx","assets/images/images.jpg","components/Users/Users.tsx","redux/users-selector.tsx","components/Users/Userscontainer.tsx","components/Header/Header.tsx","redux/auth-reducer.tsx","components/Header/HeaderContainer.tsx","utils/form-helper.tsx","components/login/loginForm.tsx","components/login/login.tsx","components/Friends/Friends.tsx","redux/app-reducer.tsx","redux/redux-store.tsx","hoc/WithSuspense.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Preloader","src","preloader","module","exports","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","initialstate","posts","id","message","likecount","profile","status","profileReducer","state","action","type","NewPost","filter","el","addPostActionCreator","setUsersProfile","setUserStatus","getProfileUser","userId","dispath","a","profileApi","getProfile","data","getUserStatus","getStatus","updateUserStatus","updateStatus","resultCode","ADD_MESSAGE","DELETE_MESSAGE","messages","dialogs","name","dialogsReducer","NewMessage","addMessageActionCreator","instatce","axios","create","withCredentials","baseURL","headers","usersApi","getUsers","currentPage","pageSize","get","then","response","getSubscriptionDelete","delete","getSubscriptionPost","post","authApi","getAuth","getlogin","email","password","remmemberMe","getlogout","put","Nav","className","s","nav","item","to","activeClassName","active","News","Music","Settings","updateObjectInArray","items","obj","newObj","map","FOLLOW","UNFOLLOW","SET_USER","SET_CURRENT_PAGE","SET_TOTAL_USERSCOUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING","users","totalUsersCount","isFetching","followngInProgress","followsucsess","unfollowsucsess","setUsers","setCurrentPage","toggleisFething","toggle","toggleisFollowig","togglefollow","followAnfollowFlow","apiMethod","actioncreator","Paginator","onPageChanged","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setportionNumber","leftpage","rightpage","paginator","onClick","pageActive","block","e","User","user","unfollow","follow","userprofile","photos","small","followed","disabled","some","userdata","username","Users","props","getUsersState","userspage","getpageSizeState","getTotalUsersCountState","getcurrentPageState","getisFetchingState","getfollowngInProgressState","UsersAPIComponent","pageNumber","getPageBold","this","React","Component","UsersContainer","compose","connect","bind","totalCount","Header","header","loginBlock","isAuth","login","getLogout","SET_USER_DATA","ERROR_MESSAGE","errorMessage","setAuth","payload","setErrorMessage","getAuthHeader","dispatch","HeaderContainerAPI","HeaderContainer","auth","createField","text","value","placeholder","handleChange","errors","touched","nameError","component","onCnage","errorinput","errortext","LoginFormContainer","getLogin","length","initialValues","rememberMe","validate","values","test","onSubmit","console","log","Formik","isSubmitting","handleSubmit","Login","Friends","SET_INITIALAIZED","initialized","RootReducer","combineReducers","profilepage","dialogepage","app","store","createStore","applyMiddleware","thunkMiddleware","window","WithSuspense","restProps","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initialize","path","render","AppContainer","withRouter","promise","Promise","all","SamuraiApp","basename","process","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.21b4ee72.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Spin-1s-200px.c95e94f8.svg\";","import React from 'react';\r\nimport preloader from \"../../assets/images/Spin-1s-200px.svg\"\r\n\r\n\r\n\r\nexport const Preloader : React.FC= () => {\r\n    return (\r\n        <div>\r\n           <img src={preloader}/>\r\n        </div>\r\n    );\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorinput\":\"login_errorinput__c8YV1\",\"errortext\":\"login_errortext__VGXxU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageActive\":\"Paginator_pageActive__12Tti\",\"paginator\":\"Paginator_paginator__d2LVN\",\"block\":\"Paginator_block__2vOG1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userprofile\":\"Users_userprofile__3DVfo\",\"userdata\":\"Users_userdata__JGf1Z\",\"username\":\"Users_username__1RG4k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3Y7JV\",\"loginBlock\":\"Header_loginBlock__3jFKz\"};","import React from 'react';\r\nimport {ActionValuesType} from \"./redux-store\";\r\nimport {profileApi} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nconst ADD_POST = \"samurai-network/profile/ADD-POST\"\r\nconst DELETE_POST = \"samurai-network/profile/DELETE_POST\"\r\nconst SET_USER_PROFILE = \"samurai-network/profile/SET_USER_PROFILE\"\r\nconst SET_STATUS = \"samurai-network/profile/SET_STATUS\"\r\n\r\n\r\nexport type PostType = {\r\n    id: number\r\n    message: string | undefined\r\n    likecount: number\r\n}\r\n\r\ntype ContactsType = {\r\n    github: null | string\r\n    vk: null | string\r\n    facebook: null | string\r\n    instagram: null | string\r\n    twitter: null | string\r\n    website: null | string\r\n    youtube: null | string\r\n    mainLink: null | string\r\n}\r\n\r\ntype PhotoType = {\r\n    small: string\r\n    large: string\r\n}\r\nexport type ProfileType = {\r\n    aboutMe: string\r\n    contacts: ContactsType\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    userId: number\r\n    photos: PhotoType\r\n}\r\nexport type InitialProfilePageType = {\r\n    posts: PostType[]\r\n    profile: ProfileType\r\n    status: string\r\n}\r\n\r\n\r\nlet initialstate: InitialProfilePageType = {\r\n    posts: [\r\n        {id: 1, message: \"vy hhhhh\", likecount: 3},\r\n        {id: 2, message: \"vvv\", likecount: 4}],\r\n    profile: {\r\n        \"aboutMe\": \"\",\r\n        \"contacts\": {\r\n            \"facebook\": \"\",\r\n            \"website\": null,\r\n            \"vk\": \"\",\r\n            \"twitter\": \"\",\r\n            \"instagram\": \"\",\r\n            \"youtube\": null,\r\n            \"github\": \"\",\r\n            \"mainLink\": null\r\n        },\r\n        \"lookingForAJob\": true,\r\n        \"lookingForAJobDescription\": \"\",\r\n        \"fullName\": \"\",\r\n        \"userId\": 19622,\r\n        \"photos\": {\r\n            \"small\": \"\",\r\n            \"large\": \"\"\r\n        }\r\n    },\r\n    status: \"\"\r\n}\r\n\r\n\r\nexport const profileReducer = (state = initialstate, action: ActionValuesType): InitialProfilePageType => {\r\n    switch (action.type) {\r\n        case  ADD_POST:\r\n            return {...state, posts: [...state.posts, {id: 5, message: action.NewPost, likecount: 2}],}\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile}\r\n        case SET_STATUS:\r\n            return {...state, status: action.status}\r\n        case DELETE_POST:\r\n            return {...state, posts: state.posts.filter(el => el.id !== action.id)}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (NewPost: string) => ({type: ADD_POST, NewPost}) as const\r\nexport const setUsersProfile = (profile: ProfileType) => ({type: SET_USER_PROFILE, profile}) as const\r\nexport const setUserStatus = (status: string) => ({type: SET_STATUS, status}) as const\r\nexport const deletePostActionCreator = (id: number) => ({type: DELETE_POST, id}) as const\r\n\r\nexport const getProfileUser = (userId: number) => async (dispath: Dispatch<ActionValuesType>) => {\r\n    let data = await profileApi.getProfile(userId)\r\n    dispath(setUsersProfile(data))\r\n\r\n}\r\n\r\nexport const getUserStatus = (userId: number) => async (dispath: Dispatch<ActionValuesType>) => {\r\n    let data = await profileApi.getStatus(userId)\r\n    dispath(setUserStatus(data))\r\n\r\n}\r\n\r\nexport const updateUserStatus = (status: string) => async (dispath: Dispatch<ActionValuesType>) => {\r\n    let response = await profileApi.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispath(setUserStatus(status))\r\n    }\r\n\r\n}","import React from 'react';\r\nimport {ActionValuesType} from \"./redux-store\";\r\n\r\nconst ADD_MESSAGE = \"samurai-network/dialog/ADD-MESSAGE\"\r\nconst DELETE_MESSAGE=\"samurai-network/dialog/DELETE_MESSAGE\"\r\n\r\n\r\n\r\nexport type AddMessageType = {\r\n    type: typeof ADD_MESSAGE\r\n    NewMessage:string\r\n}\r\nexport type DeleteMessageType={\r\n    type: typeof DELETE_MESSAGE\r\n    id:number\r\n}\r\nexport type MessageType = {\r\n    id: number\r\n    message: string | undefined\r\n}\r\nexport type DialogType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nexport type InitDialogsStateType = {\r\n    messages: MessageType[]\r\n    dialogs: DialogType[]\r\n}\r\n\r\nlet initialstate: InitDialogsStateType = {\r\n    messages: [\r\n        {id: 1, message: \"Hello\"},\r\n        {id: 2, message: \"How are you?\"},\r\n        {id: 3, message: \"Hi\"},\r\n        {id: 4, message: \"Yo\"},],\r\n    dialogs: [\r\n        {id: 1, name: \"Dima\"},\r\n        {id: 2, name: \"Sasha\"},\r\n        {id: 3, name: \"Kolya\"},\r\n        {id: 4, name: \"Sveta\"},\r\n        {id: 5, name: \"Andrey\"},\r\n        {id: 6, name: \"Vitya\"},]\r\n}\r\n\r\n\r\nexport const dialogsReducer = (state = initialstate, action: ActionValuesType): InitDialogsStateType => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            return {...state,messages: [...state.messages, {id: 5, message: action.NewMessage},]}\r\n        case DELETE_MESSAGE:\r\n            return {...state,messages: [...state.messages.filter(el=>el.id !==action.id)]}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addMessageActionCreator = (NewMessage:string): AddMessageType => ({type: ADD_MESSAGE,NewMessage})as const\r\nexport const deleteMessageActionCreator=(id:number):DeleteMessageType=>({type:DELETE_MESSAGE,id})\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1zpv6\",\"item\":\"Nav_item__2lSwT\",\"active\":\"Nav_active__fZBjA\"};","import axios from 'axios';\r\n\r\n\r\n\r\nconst instatce = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0',\r\n    headers: {\"API-KEY\": \"7ccc0386-8558-4e56-b3f7-82cd09cd2d3e\"}\r\n})\r\n\r\nexport const usersApi = {\r\n    getUsers: (currentPage = 1, pageSize = 10) => {\r\n        return instatce.get(`/users?page=${currentPage}&count=${pageSize}`).then(response => {\r\n            return response.data\r\n        })\r\n\r\n    },\r\n    getSubscriptionDelete: (id: number) => {\r\n        return instatce.delete(`/follow/${id}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    getSubscriptionPost: (id: number) => {\r\n        return instatce.post(`/follow/${id}`).then(response => {\r\n            return response.data\r\n        })\r\n    }\r\n}\r\n\r\nexport const authApi = {\r\n    getAuth: () => {\r\n        return instatce.get(`/auth/me`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    getlogin: (email:string,password:string,remmemberMe:boolean) => {\r\n        return instatce.post(`/auth/login`,{email:email,password:password,remmemberMe:remmemberMe}).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    getlogout: () => {\r\n        return instatce.delete(`/auth/login`).then(response => {\r\n            return response.data\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const profileApi = {\r\n    getProfile: (id: number) => {\r\n        return instatce.get(\"/profile/\" + id).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    getStatus: (id: number) => {\r\n        return instatce.get(\"/profile/status/\" + id).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    updateStatus: (status: string) => {\r\n        return instatce.put(\"/profile/status/\", {status: status})\r\n    }\r\n}","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from \"./Nav.module.css\"\r\n\r\n\r\nexport const Nav = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/news\" activeClassName={s.active}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/settings\" activeClassName={s.active}>Settings</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/friends\" activeClassName={s.active}>Friends</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport const News: React.FC = () => {\r\n    return (\r\n        <div>\r\n            <h1>News</h1>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport const Music: React.FC = () => {\r\n    return (\r\n        <div>\r\n            <h1>Music</h1>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport const Settings: React.FC = () => {\r\n    return (\r\n        <div>\r\n            <h1>Settings</h1>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport {UserType} from \"../redux/users-reducer\";\r\n\r\nexport const updateObjectInArray = (items: Array<UserType>, userId: number,obj:keyof UserType, newObj:Partial<UserType>) => {\r\n  return   items.map(el => el[obj] === userId ? {...el, ...newObj} : el)\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {ActionValuesType} from \"./redux-store\";\r\nimport {usersApi} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\n\r\n// const ADD_POST = \"ADD-POST\"\r\n// const UPDATE_NEW_POST = \"UPDATE-NEW-POST\"\r\n//\r\n//\r\n// export const addPostActionCreator = () => ({type: ADD_POST}) as const\r\n// export const upDateNewPostActionCreator = (text: string) => ({type: UPDATE_NEW_POST, New: text}) as const//типизация двух видов тут и в экшнкреэйторе\r\n\r\nconst FOLLOW = \"samurai-network/user/FOLLOW\"\r\nconst UNFOLLOW = \"samurai-network/user/UNFOLLOW\"\r\nconst SET_USER = \"samurai-network/user/SET_USER\"\r\nconst SET_CURRENT_PAGE = \"samurai-network/user/SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERSCOUNT = \"samurai-network/user/SET_TOTAL_USERSCOUNT\"\r\nconst TOGGLE_IS_FETCHING = \"samurai-network/user/TOGGLE_IS_FETCHING\"\r\nconst TOGGLE_IS_FOLLOWING = \"samurai-network/user/TOGGLE_IS_FOLLOWING\"\r\n\r\nexport type UserType = {\r\n    name: string\r\n    id: number\r\n    photos: {\r\n        \"small\": null | string,\r\n        \"large\": null | string\r\n    }\r\n    status: string\r\n    followed: boolean\r\n}\r\n\r\nexport type initialUserPageType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followngInProgress: Array<number>\r\n}\r\n\r\nlet initialstate: initialUserPageType = {\r\n    users: [],\r\n    pageSize: 4,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followngInProgress: []\r\n}\r\n\r\n\r\nexport const userReducer = (state = initialstate, action: ActionValuesType): initialUserPageType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            // return {...state, users: state.users.map(el => el.id === action.userId ? {...el, followed: true} : el)}\r\n            return {...state, users: updateObjectInArray(state.users,action.userId,\"id\", {followed: true})}\r\n        case UNFOLLOW:\r\n        // return {...state, users: state.users.map(el => el.id === action.userId ? {...el, followed: false} : el)}\r\n            return {...state, users: updateObjectInArray(state.users,action.userId,\"id\", {followed: false})}\r\n        case SET_USER:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_USERSCOUNT:\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.toggle}\r\n        case TOGGLE_IS_FOLLOWING:\r\n            return {\r\n                ...state, followngInProgress: action.togglefollow ? [...state.followngInProgress, action.id] :\r\n                    state.followngInProgress.filter(id => id !== action.id)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const followsucsess = (userId: number) => ({type: FOLLOW, userId}) as const\r\nexport const unfollowsucsess = (userId: number) => ({type: UNFOLLOW, userId}) as const\r\nexport const setUsers = (users: Array<UserType>) => ({type: SET_USER, users}) as const\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage}) as const\r\nexport const setTotalUsersCount = (totalCount: number) => ({type: SET_TOTAL_USERSCOUNT, totalCount}) as const\r\nexport const toggleisFething = (toggle: boolean) => ({type: TOGGLE_IS_FETCHING, toggle}) as const\r\nexport const toggleisFollowig = (togglefollow: boolean, id: number) => ({\r\n    type: TOGGLE_IS_FOLLOWING,\r\n    togglefollow,\r\n    id\r\n}) as const\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number) => {\r\n    return async (dispath: Dispatch<ActionValuesType>) => {\r\n        dispath(toggleisFething(true))\r\n        let data = await usersApi.getUsers(currentPage, pageSize)\r\n        dispath(toggleisFething(false))\r\n        dispath(setUsers(data.items))\r\n        dispath(setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\nexport const getPageBold = (pageNumber: number, pageSize: number) => {\r\n    return async (dispath: Dispatch<ActionValuesType>) => {\r\n        dispath(setCurrentPage(pageNumber))\r\n        dispath(toggleisFething(true))\r\n        let data = await usersApi.getUsers(pageNumber, pageSize)\r\n        dispath(toggleisFething(false))\r\n        dispath(setUsers(data.items))\r\n    }\r\n}\r\n\r\nlet followAnfollowFlow =\r\n    async (dispath: Dispatch<ActionValuesType>, userId: number, apiMethod: (userId: number) =>\r\n        Promise<{ resultCode: number }>, actioncreator: (id: number) => ActionValuesType) => {\r\n    dispath(toggleisFollowig(true, userId))\r\n    let data = await apiMethod(userId)\r\n    if (data.resultCode === 0) {\r\n        dispath(actioncreator(userId))\r\n    }\r\n    dispath(toggleisFollowig(false, userId))\r\n}\r\n\r\n\r\nexport const follow = (userId: number) => {\r\n    return async (dispath: Dispatch<ActionValuesType>) => {\r\n        // let apiMethod = usersApi.getSubscriptionPost.bind(usersApi)\r\n        // let actioncreator = toggleisFollowig\r\n        followAnfollowFlow(dispath, userId, usersApi.getSubscriptionPost.bind(usersApi), followsucsess)\r\n        //     dispath(toggleisFollowig(true, userId))\r\n        //     let data = await apiMethod(userId)\r\n        //     if (data.resultCode === 0) {\r\n        //         dispath(followsucsess(userId))\r\n        //     }\r\n        //     dispath(actioncreator(false, userId))\r\n    }\r\n}\r\nexport const unfollow = (userId: number) => {\r\n    return async (dispath: Dispatch<ActionValuesType>) => {\r\n        // let apiMethod = usersApi.getSubscriptionDelete.bind(usersApi)\r\n        // let actioncreator = toggleisFollowig\r\n        followAnfollowFlow(dispath, userId, usersApi.getSubscriptionDelete.bind(usersApi), unfollowsucsess)\r\n        // dispath(toggleisFollowig(true, userId))\r\n        // let data = await apiMethod(userId)\r\n        // if (data.resultCode === 0) {\r\n        //     dispath(unfollowsucsess(userId))\r\n        // }\r\n        // dispath(actioncreator(false, userId))\r\n    }\r\n}\r\n\r\n\r\n\r\n","import React, {useState} from 'react';\r\nimport s from \"./Paginator.module.css\";\r\n\r\ntype PropsTypePaginator = {\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n}\r\n\r\nconst Paginator: React.FC<PropsTypePaginator> = ({totalUsersCount, pageSize, currentPage, onPageChanged, ...props}) => {\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionSize = 10\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setportionNumber] = useState(1)\r\n    let leftpage = (portionNumber - 1) * portionSize + 1\r\n    let rightpage = portionNumber * portionSize\r\n    return (\r\n        <div className={s.paginator}>\r\n            {portionNumber > 1 && <button onClick={() => {\r\n                setportionNumber(portionNumber - 1)\r\n            }}>prev</button>}\r\n            {pages.filter(el => el >= leftpage && el <= rightpage)\r\n                .map(el => {\r\n                    return <span className={currentPage === el ?  s.pageActive : s.block}\r\n                                 key={el}\r\n                                 onClick={(e) => {\r\n                                     onPageChanged(el)\r\n                                 }}\r\n                    >{el}</span>\r\n                })}\r\n            {portionCount > portionNumber && <button onClick={() => {\r\n                setportionNumber(portionNumber + 1)\r\n            }}>next</button>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport s from \"./Users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userphoto from \"../../assets/images/images.jpg\";\r\nimport {UserType} from \"../../redux/users-reducer\";\r\n\r\ntype PropsTypeUser = {\r\n    user: UserType\r\n    followngInProgress: Array<number>\r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n}\r\n\r\nexport const User: React.FC<PropsTypeUser> = ({user, followngInProgress, unfollow, follow}) => {\r\n    return (<div className={s.userprofile}>\r\n            <div>\r\n                <div>\r\n                    <NavLink to={\"/profile\" + \"/\" + user.id}>\r\n                        <img src={user.photos.small !== null ? user.photos.small : userphoto}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed ?\r\n                        <button disabled={followngInProgress.some(id => id === user.id)}\r\n                                onClick={() => {\r\n                                    unfollow(user.id)\r\n                                }}>unfollow</button> :\r\n                        <button disabled={followngInProgress.some(id => id === user.id)}\r\n                                onClick={() => {\r\n                                    follow(user.id)\r\n                                }}>follow</button>}\r\n                </div>\r\n            </div>\r\n            <div className={s.userdata}>\r\n                <div className={s.username}>\r\n                    <p>{user.name}</p>\r\n                    <b>{user.status}</b>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default User;","export default \"data:image/jpeg;base64,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\"","import React from 'react';\r\nimport {UserType} from '../../redux/users-reducer';\r\nimport Paginator from \"../../common/paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\ntype PropsType = {\r\n    users: Array<UserType>\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    followngInProgress: Array<number>\r\n}\r\n\r\nexport const Users: React.FC<PropsType> = ({totalUsersCount, pageSize, currentPage, onPageChanged, users, ...props}) => {\r\n\r\n    // let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    // let pages = []\r\n    // for (let i = 1; i <= pagesCount; i++) {\r\n    //     pages.push(i)\r\n    // }\r\n    return (\r\n        <div>\r\n            <Paginator totalUsersCount={totalUsersCount} pageSize={pageSize} currentPage={currentPage}\r\n                       onPageChanged={onPageChanged}/>\r\n            {/*{pages.map(el => {*/}\r\n            {/*    return <span className={props.currentPage === el ? s.pageActive : \"\"}*/}\r\n            {/*                 onClick={(e) => {*/}\r\n            {/*                     props.onPageChanged(el)*/}\r\n            {/*                 }}*/}\r\n            {/*    >{el}</span>*/}\r\n            {/*})}*/}\r\n            {users.map(el => <User user={el} key={el.id} follow={props.follow} unfollow={props.unfollow} followngInProgress={props.followngInProgress}/>\r\n                )\r\n            })\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {RootStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\nexport const getUsersState=(state:RootStateType)=>{\r\n  return  state.userspage.users\r\n}\r\n\r\n// export const getUsersSuperSelector=createSelector(getUsersState,(users)=>{ селектор для более простого селектора getUserState\r\n//    return users.filter(u=>true)\r\n// })\r\n\r\nexport const getpageSizeState=(state:RootStateType)=>{\r\n    return state.userspage.pageSize\r\n}\r\nexport const getTotalUsersCountState=(state:RootStateType)=>{\r\n    return  state.userspage.totalUsersCount\r\n}\r\nexport const getcurrentPageState=(state:RootStateType)=>{\r\n    return  state.userspage.currentPage\r\n}\r\nexport const getisFetchingState=(state:RootStateType)=>{\r\n    return  state.userspage.isFetching\r\n}\r\nexport const getfollowngInProgressState=(state:RootStateType)=>{\r\n    return state.userspage.followngInProgress\r\n}\r\n\r\n\r\n\r\n","import React, {ComponentType} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Preloader} from '../../common/preloader/Preloader';\r\nimport {RootStateType} from '../../redux/redux-store';\r\nimport {\r\n    follow, getPageBold, getUsers,\r\n    setCurrentPage,\r\n    unfollow,\r\n    UserType\r\n} from '../../redux/users-reducer';\r\nimport {Users} from './Users';\r\nimport {WithAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getcurrentPageState, getfollowngInProgressState,\r\n    getisFetchingState,\r\n    getpageSizeState,\r\n    getTotalUsersCountState, getUsersState\r\n} from \"../../redux/users-selector\";\r\n\r\n\r\ntype  MapDispatch = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    setCurrentPage: (currentPage: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n    getPageBold: (pageNumber: number, pageSize: number) => void\r\n}\r\n\r\n\r\ntype MapStateToProps = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followngInProgress: Array<number>\r\n\r\n}\r\n\r\ntype UsesrApiType = MapDispatch & MapStateToProps\r\n\r\n\r\nclass UsersAPIComponent extends React.Component<UsesrApiType> {\r\n\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage,pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        let {pageSize}=this.props\r\n        this.props.getPageBold(pageNumber,pageSize)//возможно запись не верна пофиксить санку\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.props.isFetching ? <Preloader/> : null}\r\n                <Users users={this.props.users}\r\n                       follow={this.props.follow}\r\n                       unfollow={this.props.unfollow}\r\n                       pageSize={this.props.pageSize}\r\n                       totalUsersCount={this.props.totalUsersCount}\r\n                       currentPage={this.props.currentPage}\r\n                       onPageChanged={this.onPageChanged}\r\n                       followngInProgress={this.props.followngInProgress}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n// const mapStateToProps = (state: RootStateType): MapStateToProps => {\r\n//     return {\r\n//         users: state.userspage.users,\r\n//         pageSize: state.userspage.pageSize,\r\n//         totalUsersCount: state.userspage.totalUsersCount,\r\n//         currentPage: state.userspage.currentPage,\r\n//         isFetching: state.userspage.isFetching,\r\n//         followngInProgress: state.userspage.followngInProgress\r\n//     }\r\n// }\r\n\r\nconst mapStateToProps = (state: RootStateType): MapStateToProps => {\r\n    return {\r\n        users: getUsersState(state),\r\n        pageSize: getpageSizeState(state),\r\n        totalUsersCount: getTotalUsersCountState(state),\r\n        currentPage: getcurrentPageState(state),\r\n        isFetching: getisFetchingState(state),\r\n        followngInProgress: getfollowngInProgressState(state)\r\n    }\r\n}\r\n\r\n\r\nexport const UsersContainer = compose<ComponentType>(connect(mapStateToProps, {\r\n    follow, unfollow,\r\n    setCurrentPage,\r\n    getUsers,\r\n    getPageBold\r\n}))(UsersAPIComponent)","import React from \"react\";\r\nimport s from \"./Header.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\ntype PropsType = {\r\n    isAuth: boolean\r\n    login: null | string\r\n    getLogout:()=>void\r\n}\r\n\r\nexport const Header: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src=\"https://cdn.logo.com/hotlink-ok/logo-social.png\"/>\r\n            <div className={s.loginBlock}>\r\n                    {props.isAuth\r\n                        ? <div>\r\n                            <h3>{props.login}</h3>\r\n                            <button onClick={props.getLogout}>logOut</button>\r\n                    </div>\r\n                        : <NavLink to={\"/login\"}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {ActionValuesType, RootStateType} from \"./redux-store\";\r\nimport {authApi} from \"../api/api\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\n\r\nconst SET_USER_DATA = \"samurai-network/auth/SET_USER_DATA\"\r\nconst ERROR_MESSAGE = \"samurai-network/auth/ERROR_MESSAGE\"\r\n\r\nexport type InitialAuthType = {\r\n    userId: null | number\r\n    email: null | string\r\n    login: null | string\r\n    isAuth: boolean\r\n    errorMessage: null | string\r\n}\r\n\r\nlet initialstate: InitialAuthType = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    errorMessage: null\r\n}\r\n\r\nexport const authReducer = (state = initialstate, action: ActionValuesType): InitialAuthType => {\r\n    switch (action.type) {\r\n\r\n        case SET_USER_DATA:\r\n            return {...state, ...action.payload}\r\n        case ERROR_MESSAGE:\r\n            return {...state, errorMessage: action.errorMessage}\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const setAuth = (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n}) as const\r\n\r\nexport const setErrorMessage = (errorMessage: string) => {\r\n    return {\r\n        type: ERROR_MESSAGE,\r\n        errorMessage\r\n    } as const\r\n}\r\n\r\nexport const getAuthHeader = () => async (dispatch: ThunkDispatch<RootStateType, undefined, ActionValuesType>) => {\r\n    let data = await authApi.getAuth()\r\n    if (data.resultCode === 0) {\r\n        let {id, email, login} = data.data\r\n        dispatch(setAuth(id, email, login, true))\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const getLogin = (email: string, password: string, remmemberMe: boolean) =>\r\n    async (dispatch: ThunkDispatch<RootStateType, undefined, ActionValuesType>) => {\r\n    let data = await authApi.getlogin(email, password, remmemberMe)\r\n    if (data.resultCode === 0) {\r\n        dispatch(getAuthHeader())\r\n        dispatch(setErrorMessage(\"\"))\r\n    } else {\r\n        let message = data.messages.length > 0 ? data.messages[0] : \"Some Error\"\r\n        dispatch(setErrorMessage(message))\r\n    }\r\n}\r\n\r\n\r\nexport const getLogout = () => async (dispatch: ThunkDispatch<RootStateType, undefined, ActionValuesType>) => {\r\n    let data = await authApi.getlogout()\r\n    if (data.resultCode === 0) {\r\n        dispatch(setAuth(null, null, null, false))\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Header} from \"./Header\";\r\nimport {RootStateType} from \"../../redux/redux-store\";\r\nimport {getLogout} from \"../../redux/auth-reducer\";\r\n\r\n\r\ntype MapStateToProps = {\r\n    isAuth: boolean\r\n    login: null | string\r\n}\r\ntype  MapDispatch = {\r\n    // getAuthHeader:() =>void\r\n    getLogout:()=>void\r\n}\r\ntype HeaderContainerApiType = MapDispatch & MapStateToProps\r\n\r\nexport class HeaderContainerAPI extends React.Component<HeaderContainerApiType> {\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header {...this.props} getLogout={this.props.getLogout}/>\r\n            </div>\r\n        )\r\n    };\r\n};\r\n\r\nconst mapStateToProps = (state: RootStateType): MapStateToProps => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n}\r\nexport const HeaderContainer = connect(mapStateToProps, {getLogout\r\n\r\n})(HeaderContainerAPI)","import React, {ChangeEvent} from \"react\";\r\nimport {ErrorMessage, Field} from \"formik\";\r\nimport s from \"../components/login/login.module.css\";\r\n\r\nexport const createField =\r\n    (text: string, name: string, value: string, placeholder: string,\r\n     handleChange: (e: ChangeEvent ) => void, errors:string | undefined, touched:boolean | undefined,nameError:string,component:string) =>\r\n        <div>\r\n            <Field type={text} name={name} value={value} placeholder={placeholder}\r\n                   onCnage={handleChange}\r\n                   className={errors && touched && s.errorinput}\r\n            />\r\n            <ErrorMessage name={nameError} component={component} className={s.errortext}/>\r\n        </div>","import {ErrorMessage, Field, Formik} from \"formik\";\r\nimport React from \"react\";\r\nimport {RootStateType} from \"../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {getLogin} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from \"./login.module.css\"\r\nimport {createField} from \"../../utils/form-helper\";\r\n\r\n\r\ntype ErrorsType = {\r\n    email?: string\r\n    password?: string\r\n    rememberMe?: boolean\r\n}\r\n\r\ntype MapStateToProps = {\r\n    isAuth: boolean\r\n    errorMessage: null | string\r\n\r\n}\r\ntype  MapDispatch = {\r\n    getLogin: (email: string, password: string, remmemberMe: boolean) => void\r\n}\r\n\r\ntype loginFormProps = MapStateToProps & MapDispatch\r\n\r\n\r\nexport const LoginForm = ({isAuth,errorMessage,getLogin}:loginFormProps) => {\r\n\r\n    if (isAuth) return <Redirect to={\"/profile\"}/>\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={{email: '', password: '', rememberMe: true}}\r\n            validate={values => {\r\n                const errors: ErrorsType = {};\r\n                if (!values.email) {\r\n\r\n                    errors.email = 'email required';\r\n                }\r\n                if (!values.password) {\r\n\r\n                    errors.password = 'password required';\r\n                } else if (\r\n                    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n                ) {\r\n\r\n                    errors.email = 'Invalid email address';\r\n                }\r\n\r\n                return errors;\r\n            }}\r\n            onSubmit={(values) => {\r\n                getLogin(values.email, values.password, values.rememberMe)\r\n                console.log(Formik)\r\n            }}>\r\n            {({\r\n                  isSubmitting,\r\n                  handleChange,\r\n                  values,\r\n                  handleSubmit,\r\n                  errors,\r\n                  touched,\r\n              }) => (\r\n\r\n                <form onSubmit={handleSubmit}>\r\n                    {createField(\"text\",\"email\",values.email,\"login\",handleChange,errors.email,touched.email,\"email\",\"div\")}\r\n                    {createField(\"password\",\"password\",values.password,\"password\",handleChange,errors.password,touched.password,\"password\",\"div\")}\r\n                    {/*<div>*/}\r\n                    {/*    <Field type=\"text\" name=\"email\" value={values.email} placeholder={\"login\"}*/}\r\n                    {/*           onCnage={handleChange}*/}\r\n                    {/*        className={errors.email && touched.email  && s.errorinput}*/}\r\n                    {/*    />*/}\r\n                    {/*    <ErrorMessage name=\"email\" component=\"div\" className={s.errortext}/>*/}\r\n                    {/*</div>*/}\r\n                    {/*<div>*/}\r\n                    {/*    <Field type=\"password\" name=\"password\" value={values.password} placeholder={\"password\"}*/}\r\n                    {/*           onCnage={handleChange}*/}\r\n                    {/*           className={errors.password && touched.password && s.errorinput}*/}\r\n                    {/*    />*/}\r\n                    {/*    <ErrorMessage name=\"password\" component=\"div\" className={s.errortext}/>*/}\r\n                    {/*</div>*/}\r\n                    <div>\r\n                        <Field type=\"checkbox\" name=\"rememberMe\" onCnage={handleChange}/>remember me\r\n                    </div>\r\n                    <div className={s.errortext}>{errorMessage}</div>\r\n                    <div>\r\n                        <button type=\"submit\">\r\n                            Submit\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            )}\r\n        </Formik>\r\n    );\r\n};\r\n\r\n\r\nconst mapStateToProps = (state: RootStateType): MapStateToProps => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        errorMessage: state.auth.errorMessage\r\n    }\r\n}\r\n\r\n\r\nexport const LoginFormContainer = connect(mapStateToProps, {\r\n    getLogin\r\n})(LoginForm)","import React from 'react';\r\nimport {LoginFormContainer} from \"./loginForm\";\r\n\r\n\r\n\r\n\r\nexport const Login = () => {\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginFormContainer/>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\n\r\nexport const Friends: React.FC = () => {\r\n    return (\r\n        <div>\r\n            <h1>Friends</h1>\r\n        </div>\r\n\r\n    )\r\n}","import React from 'react';\r\nimport {ActionValuesType, RootStateType} from \"./redux-store\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {getAuthHeader} from \"./auth-reducer\";\r\n\r\n\r\nconst SET_INITIALAIZED = \"SET_INITIALAIZED\"\r\n\r\n\r\nexport type InitialAppType = {\r\n    initialized: boolean\r\n}\r\n\r\nlet initialstate: InitialAppType = {\r\n    initialized: false\r\n}\r\n\r\nexport const appReducer = (state = initialstate, action: ActionValuesType): InitialAppType => {\r\n    switch (action.type) {\r\n\r\n        case SET_INITIALAIZED:\r\n            return {...state, initialized: true}\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const initializedSucces = () => ({\r\n    type: SET_INITIALAIZED\r\n}) as const\r\n\r\n\r\nexport const initialize = () => (dispatch: ThunkDispatch<RootStateType, undefined, ActionValuesType>) => {\r\n    let promise = dispatch(getAuthHeader())\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSucces())\r\n    })\r\n}\r\n\r\n\r\n\r\n","import {applyMiddleware, combineReducers, createStore, Store,compose} from \"redux\";\r\nimport {\r\n    addPostActionCreator, deletePostActionCreator,\r\n    profileReducer,\r\n    setUsersProfile, setUserStatus,\r\n} from \"./profile-reducer\";\r\nimport {AddMessageType, DeleteMessageType, dialogsReducer} from \"./dialogs-reducer\";\r\nimport {\r\n    followsucsess,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    setUsers,\r\n    toggleisFething, toggleisFollowig,\r\n    unfollowsucsess,\r\n    userReducer\r\n} from \"./users-reducer\";\r\nimport {authReducer, setAuth, setErrorMessage} from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {appReducer, initializedSucces} from \"./app-reducer\";\r\n\r\nexport type ActionValuesType =\r\n    ReturnType<typeof addPostActionCreator>\r\n    | AddMessageType\r\n    |DeleteMessageType\r\n    | ReturnType<typeof followsucsess>\r\n    | ReturnType<typeof unfollowsucsess>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setTotalUsersCount>\r\n    | ReturnType<typeof toggleisFething>\r\n    | ReturnType<typeof setUsersProfile>\r\n    | ReturnType<typeof setAuth>\r\n    | ReturnType<typeof toggleisFollowig>\r\n    | ReturnType<typeof setUserStatus>\r\n    | ReturnType<typeof setErrorMessage>\r\n    | ReturnType<typeof initializedSucces>\r\n    | ReturnType<typeof deletePostActionCreator>\r\n\r\n\r\nlet RootReducer = combineReducers({\r\n    profilepage: profileReducer,\r\n    dialogepage: dialogsReducer,\r\n    userspage: userReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n})\r\nexport type RootStateType = ReturnType<typeof RootReducer>\r\n\r\n//@ts-ignore\r\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n// export const store:Store<RootStateType, ActionValuesType> = createStore(RootReducer,composeEnhancers(applyMiddleware(thunkMiddleware)\r\n// ));\r\n\r\n//extantion\r\n\r\nexport let store: Store<RootStateType, ActionValuesType> = createStore(RootReducer, applyMiddleware(thunkMiddleware))\r\n\r\n//@ts-ignore\r\nwindow.store = store\r\n","import React, {ComponentType} from 'react';\r\nimport {Preloader} from \"../common/preloader/Preloader\";\r\n\r\n\r\nexport const WithSuspense=(Component:ComponentType)=>{////////////////типизация\r\n    return ({...restProps}) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...restProps}/>\r\n        </React.Suspense>\r\n    }\r\n}\r\n;","import React, {ComponentType} from 'react';\nimport './App.css';\nimport {Nav} from \"./components/Nav/Nav\";\nimport {News} from \"./components/News/News\";\nimport {Music} from \"./components/Music/Music\";\nimport {Settings} from \"./components/Settings/Settings\";\nimport {BrowserRouter, HashRouter, Route, withRouter} from 'react-router-dom';\nimport {UsersContainer} from \"./components/Users/Userscontainer\";\nimport {HeaderContainer} from \"./components/Header/HeaderContainer\";\nimport {Login} from \"./components/login/login\";\nimport {Friends} from \"./components/Friends/Friends\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initialize} from \"./redux/app-reducer\";\nimport {RootStateType, store} from \"./redux/redux-store\";\nimport {Preloader} from \"./common/preloader/Preloader\";\nimport {WithSuspense} from \"./hoc/WithSuspense\";\n// import {DialogsContainer} from \"./components/Dialog/DialogsContainer\";\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialog/DialogsContainer\"))\n// import {ProfileContainer} from \"./components/Profile/ProfileContainer\";\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"))\n\ntype  MapDispatch = {\n    initialize: () => void\n}\ntype MapStateToProps = {\n    initialized: boolean\n}\n\ntype AppProps = MapDispatch & MapStateToProps\n\nexport class App extends React.Component<AppProps> {\n    componentDidMount() {\n        this.props.initialize()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <Nav/>\n                <div className=\"app-wrapper-content\">\n                    {/*<Route path=\"/profile/:userId?\" render={() => {*/}\n                    {/*    return <React.Suspense fallback={<div>...loading</div>}>*/}\n                    {/*        <ProfileContainer/>*/}\n                    {/*    </React.Suspense>*/}\n                    {/*}}/>*/}\n                    {/*<Route path=\"/dialogs\" render={() => {*/}\n                    {/*    return <React.Suspense fallback={<div>...loading</div>}>*/}\n                    {/*        <DialogsContainer/>*/}\n                    {/*    </React.Suspense>*/}\n                    {/*}}/>*/}\n                    <Route path=\"/profile/:userId?\" render={WithSuspense(ProfileContainer)}/>\n                    <Route path=\"/dialogs\" render={WithSuspense(DialogsContainer)}/>\n                    <Route path=\"/users\" render={() =>\n                        <UsersContainer/>}/>\n                    <Route path=\"/news\" render={() => <News/>}/>\n                    <Route path=\"/music\" render={() => <Music/>}/>\n                    <Route path=\"/settings\" render={() => <Settings/>}/>\n                    <Route path=\"/friends\" render={() => <Friends/>}/>\n                    <Route path=\"/login\" render={() => <Login/>}/>\n                </div>\n            </div>\n\n        );\n    }\n}\n\nconst mapStateToProps = (state: RootStateType): MapStateToProps => {\n    return {\n        initialized: state.app.initialized\n    }\n}\n\n\nexport const AppContainer = compose<ComponentType>(withRouter, connect(mapStateToProps, {\n    initialize\n}))(App)\n\nlet SamuraiApp = () => {\n    return <HashRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n}\n\nexport default SamuraiApp\n\n\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport SamuraiApp from './App';\nimport './index.css';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n    <SamuraiApp/>\n    , document.getElementById('root')\n)\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}