(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{104:function(t,e,s){t.exports={pole:"ProfileInfo_pole__2nPq_",ava:"ProfileInfo_ava__2Cbzz",contact:"ProfileInfo_contact__31c6p",errortext:"ProfileInfo_errortext__3x_iP"}},105:function(t,e,s){t.exports={input:"MyPost_input__ZrBw3",button:"MyPost_button__3iwd6",inputError:"MyPost_inputError__2CQe3",spanError:"MyPost_spanError__SlFqR"}},106:function(t,e,s){t.exports={item:"Post_item__1M6TF",like:"Post_like__24D2a"}},108:function(t,e,s){"use strict";s.r(e),s.d(e,"ProfileAPIComponent",(function(){return q}));var o=s(23),r=s(24),n=s(27),i=s(26),c=s(0),a=s.n(c),l=s(2),u=s(33),b=s(104),j=s.n(b),p=s(29),d=s(32),f=s(60),h=s(1),O=function(t){var e=Object(c.useState)(!1),s=Object(f.a)(e,2),o=s[0],r=s[1],n=Object(c.useState)(t.status),i=Object(f.a)(n,2),a=i[0],l=i[1];Object(c.useEffect)((function(){l(t.status)}),[t.status]);return Object(h.jsxs)("div",{children:[!o&&Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Status:"}),Object(h.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status||"No status"})]}),o&&Object(h.jsx)("div",{children:Object(h.jsx)("input",{type:"text",onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(a)},value:a})})]})},m=s(57),x=s(25),g=s(39),v=function(t){var e=t.profile,s=t.saveProfile;return Object(h.jsx)(x.c,{initialValues:{aboutMe:e.aboutMe,contacts:{facebook:e.contacts.facebook,website:e.contacts.website,vk:e.contacts.vk,twitter:e.contacts.twitter,instagram:e.contacts.instagram,youtube:e.contacts.youtube,github:e.contacts.github,mainLink:e.contacts.mainLink},lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription,fullName:e.fullName,userId:e.userId,photos:{small:e.photos.small,large:e.photos.large}},validate:function(t){var e={};return t.fullName.length>15&&(e.fullName="max length 20"),e},onSubmit:function(t){s(t)},children:function(t){var s=t.handleSubmit,o=t.errors,r=t.touched;return Object(h.jsxs)("form",{onSubmit:s,children:[Object(g.a)("text","fullName","fullName",o.fullName,r.fullName,"fullName","div"),Object(h.jsx)("div",{children:Object(h.jsx)(x.b,{type:"checkbox",name:"lookingForAJob"})}),Object(g.a)("text","lookingForAJobDescription","lookingForAJobDescription",o.lookingForAJobDescription,r.lookingForAJobDescription,"lookingForAJobDescription","div"),Object(g.a)("text","aboutMe","aboutMe",o.aboutMe,r.aboutMe,"aboutMe","div"),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Contacts:"}),Object.keys(e.contacts).map((function(t){return Object(h.jsx)("div",{className:j.a.contact,children:Object(h.jsxs)("b",{children:[t,":",Object(g.a)("text","contacts.".concat(t),t,"contacts.".concat(t),!1,t,"div")]})},t)}))]}),Object(h.jsx)("button",{type:"submit",children:"Submit"})]})]})}})},P=function(t){var e=t.profile,s=t.isOwner,o=t.goToEditMode;return Object(h.jsxs)("div",{children:[s&&Object(h.jsx)("button",{onClick:function(){return o()},children:"edit"}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Name:"}),e.fullName]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Looking for a job:"}),e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"My professional skills:"}),e.lookingForAJobDescription]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"About me:"}),e.aboutMe]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:"Contacts:"}),Object.keys(e.contacts).map((function(t){return Object(h.jsx)(k,{contactKey:t,contactValue:e.contacts[t]},t)}))]})]})},k=function(t){var e=t.contactKey,s=t.contactValue;return Object(h.jsxs)("p",{className:j.a.contact,children:[Object(h.jsxs)("b",{children:[e,":"]}),s]})},N=s(14),_=["profile","status","updateStatus","saveProfile","flagEditMode"],M=function(t){var e=t.profile,s=t.status,o=t.updateStatus,r=t.saveProfile,n=(t.flagEditMode,Object(u.a)(t,_)),i=Object(N.d)((function(t){return t.profilepage.flagEditMode})),c=Object(N.c)();if(!e)return Object(h.jsx)(p.a,{});return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:j.a.ava,children:[Object(h.jsx)("img",{src:e.photos.small||m.a}),Object(h.jsxs)("div",{children:[n.isOwner&&Object(h.jsx)("input",{type:"file",onChange:function(t){var e;(null===(e=t.target.files)||void 0===e?void 0:e.length)&&n.savePhoto(t.target.files[0])}}),Object(h.jsx)(O,{status:s,updateStatus:o}),i?Object(h.jsx)(v,{saveProfile:r,profile:e}):Object(h.jsx)(P,{profile:e,isOwner:n.isOwner,goToEditMode:function(){c(Object(d.h)(!i))}}),Object(h.jsx)("p",{className:j.a.errortext,children:n.errorMessage})]})]})})},y=s(22),A=s(105),w=s.n(A),S=s(106),F=s.n(S),E=function(t){return Object(h.jsxs)("div",{className:F.a.item,children:[Object(h.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTluB_KJTFuFjPv37y1r9ANOA8s60vcfoM5YA&usqp=CAU"}),t.message,Object(h.jsxs)("div",{className:F.a.like,children:[t.likecount,Object(h.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRTsHRX8t1HF3K4RA3EZk-icklePWdLpfAUlBOzsapp7pZdfdl-_ZYkkVllttQATUl-sao&usqp=CAU"})]})]})},J=a.a.memo((function(t){var e=Object(y.a)(t.posts).reverse().map((function(t){return Object(h.jsx)(E,{message:t.message,likecount:t.likecount},t.id)}));return Object(h.jsxs)("div",{children:[Object(h.jsx)(C,{onAddPost:function(e){t.addPost(e)}}),Object(h.jsx)("div",{children:e})]})})),C=function(t){var e=Object(x.d)({initialValues:{NewPost:""},validate:function(t){var e={};return t.NewPost.length>15&&(e.NewPost="max length 15"),e},onSubmit:function(e){t.onAddPost(e.NewPost)}});return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(h.jsx)("input",{className:e.errors.NewPost?w.a.inputError:w.a.input,id:"NewPost",name:"NewPost",type:"text",onChange:e.handleChange,value:e.values.NewPost}),Object(h.jsx)("button",{type:"submit",className:w.a.button,disabled:!!e.errors.NewPost,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),e.errors&&Object(h.jsx)("span",{className:w.a.spanError,children:e.errors.NewPost})]})},I=Object(N.b)((function(t){return{posts:t.profilepage.posts}}),(function(t){return{addPost:function(e){t(Object(d.a)(e))}}}))(J),U=function(t){return Object(h.jsxs)("div",{children:[Object(h.jsx)(M,Object(l.a)({},t)),Object(h.jsx)(I,{})]})},D=s(5),T=s(20),q=function(t){Object(n.a)(s,t);var e=Object(i.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(r.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||"null"===(t=String(this.props.loginUserId))&&this.props.history.push("/login"),this.props.getProfileUser(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(h.jsx)(U,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateUserStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,errorMessage:this.props.errorMessage,flagEditMode:this.props.flagEditMode})}}]),s}(a.a.Component);e.default=Object(T.c)(Object(N.b)((function(t){return{profile:t.profilepage.profile,status:t.profilepage.status,isAuth:t.auth.isAuth,loginUserId:t.auth.userId,errorMessage:t.profilepage.errorMessage,flagEditMode:t.profilepage.flagEditMode}}),{setUsersProfile:d.i,getProfileUser:d.b,getUserStatus:d.c,updateUserStatus:d.j,savePhoto:d.e,saveProfile:d.f}),D.g)(q)}}]);
//# sourceMappingURL=3.dc9722ad.chunk.js.map